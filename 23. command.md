# **Command**

El patr칩n Command separa a los objetos que emiten una solicitud de los que la ejecutan.
Cada comando:
- Tiene un m칠todo `execute()`
- Puede incluir un m칠todo `undo()`
- Puede contener par치metros, l칩gica, contexto
El invocador solo necesita saber que puede "ejecutar" un comando, sin preocuparse de c칩mo se lleva a cabo.



## Met치fora real

Imagina que est치s en un restaurante:
- T칰 haces el pedido (cliente/invocador).
- El camarero anota tu pedido (comando).
- La cocina lo ejecuta (receptor).
T칰 no necesitas saber c칩mo se cocina, solo que puedes "emitir el comando".



## Ejemplo en JavaScript: control remoto universal

Vamos a simular un control remoto que puede encender/apagar luces.

Receptor (el que realiza la acci칩n real)
```js
class Luz {
  encender() {
    console.log("游눠 La luz est치 encendida");
  }

  apagar() {
    console.log("游눣 La luz est치 apagada");
  }
}
```

Comandos (encapsulan las peticiones)
```js
class EncenderLuzCommand {
  constructor(luz) {
    this.luz = luz;
  }

  execute() {
    this.luz.encender();
  }

  undo() {
    this.luz.apagar();
  }
}

class ApagarLuzCommand {
  constructor(luz) {
    this.luz = luz;
  }

  execute() {
    this.luz.apagar();
  }

  undo() {
    this.luz.encender();
  }
}
```

Invocador (quien ejecuta los comandos)
```js
class ControlRemoto {
  setComando(comando) {
    this.comando = comando;
  }

  presionarBoton() {
    this.comando.execute();
  }

  presionarDeshacer() {
    this.comando.undo();
  }
}
```

Uso
```js
const luz = new Luz();
const encender = new EncenderLuzCommand(luz);
const apagar = new ApagarLuzCommand(luz);

const control = new ControlRemoto();

control.setComando(encender);
control.presionarBoton();     // 游눠 La luz est치 encendida
control.presionarDeshacer();  // 游눣 La luz est치 apagada

control.setComando(apagar);
control.presionarBoton();     // 游눣 La luz est치 apagada
control.presionarDeshacer();  // 游눠 La luz est치 encendida
```



## 쮺u치ndo usar el patr칩n Command?

| Situaci칩n                             | Ejemplo                                         |
| ------------------------------------- | ----------------------------------------------- |
| Necesitas ejecutar comandos m치s tarde | Agendar tareas, animaciones, acciones diferidas |
| Implementar _undo/redo_               | Editores de texto, herramientas de dise침o       |
| Crear historial de acciones           | Navegaci칩n, logs, macros                        |
| Usar comandos como objetos            | Colas, procesamiento paralelo                   |



## Ejemplos reales

| Aplicaci칩n      | Uso del patr칩n Command                             |
| --------------- | -------------------------------------------------- |
| Photoshop       | Deshacer/rehacer cambios                           |
| Ctrl+Z / Ctrl+Y | Sistema de historial y comandos inversos           |
| IDEs            | Refactorizaciones, navegaci칩n, comandos de teclado |
| Juegos          | Registros de movimiento, comandos de jugador       |
| Automatizaci칩n  | Macros o scripts de tareas                         |



## Ventajas

| Ventaja           | Explicaci칩n                                     |
| ----------------- | ----------------------------------------------- |
| Bajo acoplamiento | Invocador y receptor no se conocen directamente |
| Reutilizaci칩n     | Los comandos pueden reutilizarse o agruparse    |
| Historial         | Puedes guardar y reproducir comandos            |
| Undo/Redo         | F치cil de implementar agregando `undo()`         |
| Flexibilidad      | Puedes ejecutar comandos en distintos contextos |



## Desventajas

| Desventaja                               | Explicaci칩n                                         |
| ---------------------------------------- | --------------------------------------------------- |
| Muchas clases                            | Cada comando puede requerir una nueva clase         |
| Sobrecarga innecesaria                   | Para acciones simples, puede ser demasiado complejo |
| Dif칤cil de depurar si hay muchos niveles | Si hay muchos comandos anidados                     |
